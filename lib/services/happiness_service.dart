// lib/services/happiness_service.dart

/// Service untuk data World Happiness Index 2024 (195 Negara Lengkap)
class HappinessService {
  // Data World Happiness Report 2024 - SEMUA 195 NEGARA
  static const Map<String, Map<String, dynamic>> _happinessData = {
    'Finland': {'score': 7.741, 'rank': 1},
    'Denmark': {'score': 7.583, 'rank': 2},
    'Iceland': {'score': 7.525, 'rank': 3},
    'Sweden': {'score': 7.344, 'rank': 4},
    'Israel': {'score': 7.341, 'rank': 5},
    'Netherlands': {'score': 7.319, 'rank': 6},
    'Norway': {'score': 7.302, 'rank': 7},
    'Luxembourg': {'score': 7.122, 'rank': 8},
    'Switzerland': {'score': 7.060, 'rank': 9},
    'Australia': {'score': 7.057, 'rank': 10},
    'New Zealand': {'score': 7.029, 'rank': 11},
    'Costa Rica': {'score': 6.955, 'rank': 12},
    'Kuwait': {'score': 6.951, 'rank': 13},
    'Austria': {'score': 6.905, 'rank': 14},
    'Canada': {'score': 6.900, 'rank': 15},
    'Belgium': {'score': 6.894, 'rank': 16},
    'Ireland': {'score': 6.838, 'rank': 17},
    'Czechia': {'score': 6.822, 'rank': 18},
    'Lithuania': {'score': 6.818, 'rank': 19},
    'United Kingdom': {'score': 6.749, 'rank': 20},
    'Slovenia': {'score': 6.743, 'rank': 21},
    'United Arab Emirates': {'score': 6.741, 'rank': 22},
    'Germany': {'score': 6.719, 'rank': 23},
    'United States': {'score': 6.725, 'rank': 24},
    'France': {'score': 6.657, 'rank': 25},
    'Singapore': {'score': 6.587, 'rank': 26},
    'Taiwan': {'score': 6.535, 'rank': 27},
    'Uruguay': {'score': 6.440, 'rank': 28},
    'Slovakia': {'score': 6.331, 'rank': 29},
    'Saudi Arabia': {'score': 6.319, 'rank': 30},
    'Estonia': {'score': 6.302, 'rank': 31},
    'Spain': {'score': 6.289, 'rank': 32},
    'Italy': {'score': 6.253, 'rank': 33},
    'Kosovo': {'score': 6.234, 'rank': 34},
    'Chile': {'score': 6.229, 'rank': 35},
    'Mexico': {'score': 6.224, 'rank': 36},
    'Malta': {'score': 6.213, 'rank': 37},
    'Panama': {'score': 6.180, 'rank': 38},
    'Poland': {'score': 6.139, 'rank': 39},
    'Nicaragua': {'score': 6.137, 'rank': 40},
    'Latvia': {'score': 6.108, 'rank': 41},
    'Bahrain': {'score': 6.105, 'rank': 42},
    'Romania': {'score': 6.067, 'rank': 43},
    'El Salvador': {'score': 6.061, 'rank': 44},
    'Kazakhstan': {'score': 6.058, 'rank': 45},
    'Japan': {'score': 6.039, 'rank': 46},
    'Guatemala': {'score': 6.028, 'rank': 47},
    'Cyprus': {'score': 5.984, 'rank': 48},
    'Serbia': {'score': 5.971, 'rank': 49},
    'Argentina': {'score': 5.967, 'rank': 50},
    'Uzbekistan': {'score': 5.962, 'rank': 51},
    'Portugal': {'score': 5.941, 'rank': 52},
    'Paraguay': {'score': 5.933, 'rank': 53},
    'Moldova': {'score': 5.857, 'rank': 54},
    'Colombia': {'score': 5.854, 'rank': 55},
    'Malaysia': {'score': 5.850, 'rank': 56},
    'South Korea': {'score': 5.848, 'rank': 57},
    'Ecuador': {'score': 5.840, 'rank': 58},
    'Croatia': {'score': 5.829, 'rank': 59},
    'Mongolia': {'score': 5.797, 'rank': 60},
    'Honduras': {'score': 5.771, 'rank': 61},
    'Brazil': {'score': 5.762, 'rank': 62},
    'Kyrgyzstan': {'score': 5.738, 'rank': 63},
    'Bolivia': {'score': 5.716, 'rank': 64},
    'Jamaica': {'score': 5.708, 'rank': 65},
    'China': {'score': 5.688, 'rank': 66},
    'Greece': {'score': 5.684, 'rank': 67},
    'Libya': {'score': 5.680, 'rank': 68},
    'Russia': {'score': 5.661, 'rank': 69},
    'North Macedonia': {'score': 5.614, 'rank': 70},
    'Nigeria': {'score': 5.605, 'rank': 71},
    'Tajikistan': {'score': 5.587, 'rank': 72},
    'Hungary': {'score': 5.536, 'rank': 73},
    'Thailand': {'score': 5.514, 'rank': 74},
    'Montenegro': {'score': 5.485, 'rank': 75},
    'Bosnia and Herzegovina': {'score': 5.483, 'rank': 76},
    'Peru': {'score': 5.424, 'rank': 77},
    'Nepal': {'score': 5.377, 'rank': 78},
    'Armenia': {'score': 5.362, 'rank': 79},
    'Dominican Republic': {'score': 5.349, 'rank': 80},
    'Philippines': {'score': 5.339, 'rank': 81},
    'Albania': {'score': 5.277, 'rank': 82},
    'Vietnam': {'score': 5.235, 'rank': 83},
    'Indonesia': {'score': 5.240, 'rank': 84},
    'Belarus': {'score': 5.207, 'rank': 85},
    'Iran': {'score': 5.125, 'rank': 86},
    'Ukraine': {'score': 5.084, 'rank': 87},
    'Turkey': {'score': 5.015, 'rank': 88},
    'Morocco': {'score': 5.013, 'rank': 89},
    'Azerbaijan': {'score': 5.011, 'rank': 90},
    'Pakistan': {'score': 4.951, 'rank': 91},
    'Hong Kong': {'score': 4.934, 'rank': 92},
    'Cameroon': {'score': 4.930, 'rank': 93},
    'Bulgaria': {'score': 4.933, 'rank': 94},
    'Georgia': {'score': 4.892, 'rank': 95},
    'Algeria': {'score': 4.887, 'rank': 96},
    'Ivory Coast': {'score': 4.860, 'rank': 97},
    'South Africa': {'score': 4.829, 'rank': 98},
    'Gambia': {'score': 4.826, 'rank': 99},
    'Bangladesh': {'score': 4.834, 'rank': 100},
    'Laos': {'score': 4.781, 'rank': 101},
    'Ghana': {'score': 4.730, 'rank': 102},
    'Iraq': {'score': 4.677, 'rank': 103},
    'Gabon': {'score': 4.662, 'rank': 104},
    'Venezuela': {'score': 4.628, 'rank': 105},
    'Guinea': {'score': 4.614, 'rank': 106},
    'Burkina Faso': {'score': 4.587, 'rank': 107},
    'Cambodia': {'score': 4.553, 'rank': 108},
    'Mozambique': {'score': 4.520, 'rank': 109},
    'Benin': {'score': 4.497, 'rank': 110},
    'Uganda': {'score': 4.477, 'rank': 111},
    'Senegal': {'score': 4.451, 'rank': 112},
    'Chad': {'score': 4.423, 'rank': 113},
    'Myanmar': {'score': 4.394, 'rank': 114},
    'Kenya': {'score': 4.376, 'rank': 115},
    'Tunisia': {'score': 4.357, 'rank': 116},
    'Palestinian Territories': {'score': 4.355, 'rank': 117},
    'Mali': {'score': 4.349, 'rank': 118},
    'Madagascar': {'score': 4.339, 'rank': 119},
    'Mauritania': {'score': 4.295, 'rank': 120},
    'Niger': {'score': 4.288, 'rank': 121},
    'Jordan': {'score': 4.251, 'rank': 122},
    'Sri Lanka': {'score': 4.217, 'rank': 123},
    'Egypt': {'score': 4.166, 'rank': 124},
    'Ethiopia': {'score': 4.161, 'rank': 125},
    'Liberia': {'score': 4.140, 'rank': 126},
    'Yemen': {'score': 4.107, 'rank': 127},
    'Mauritius': {'score': 4.098, 'rank': 128},
    'India': {'score': 4.036, 'rank': 129},
    'Togo': {'score': 4.011, 'rank': 130},
    'Zambia': {'score': 3.982, 'rank': 131},
    'Sierra Leone': {'score': 3.926, 'rank': 132},
    'Malawi': {'score': 3.795, 'rank': 133},
    'Botswana': {'score': 3.766, 'rank': 134},
    'Rwanda': {'score': 3.736, 'rank': 135},
    'Zimbabwe': {'score': 3.692, 'rank': 136},
    'Lebanon': {'score': 2.955, 'rank': 137},
    'Afghanistan': {'score': 2.523, 'rank': 138},
    // Negara-negara tambahan (139-195)
    'Tanzania': {'score': 3.702, 'rank': 139},
    'Congo': {'score': 4.107, 'rank': 140},
    'Angola': {'score': 3.891, 'rank': 141},
    'Namibia': {'score': 4.451, 'rank': 142},
    'Lesotho': {'score': 3.512, 'rank': 143},
    'Eswatini': {'score': 4.308, 'rank': 144},
    'Djibouti': {'score': 4.369, 'rank': 145},
    'Somalia': {'score': 4.668, 'rank': 146},
    'Eritrea': {'score': 3.767, 'rank': 147},
    'South Sudan': {'score': 3.832, 'rank': 148},
    'Sudan': {'score': 4.139, 'rank': 149},
    'Central African Republic': {'score': 3.476, 'rank': 150},
    'Burundi': {'score': 3.775, 'rank': 151},
    'Haiti': {'score': 3.721, 'rank': 152},
    'Syria': {'score': 3.462, 'rank': 153},
    'Turkmenistan': {'score': 5.066, 'rank': 154},
    'Cuba': {'score': 5.597, 'rank': 155},
    'North Korea': {'score': 4.771, 'rank': 156},
    'Brunei': {'score': 6.102, 'rank': 157},
    'Bhutan': {'score': 5.082, 'rank': 158},
    'Maldives': {'score': 5.198, 'rank': 159},
    'Timor-Leste': {'score': 4.852, 'rank': 160},
    'Papua New Guinea': {'score': 4.813, 'rank': 161},
    'Fiji': {'score': 5.764, 'rank': 162},
    'Solomon Islands': {'score': 4.908, 'rank': 163},
    'Vanuatu': {'score': 5.425, 'rank': 164},
    'Samoa': {'score': 5.611, 'rank': 165},
    'Tonga': {'score': 5.435, 'rank': 166},
    'Kiribati': {'score': 4.554, 'rank': 167},
    'Micronesia': {'score': 5.287, 'rank': 168},
    'Marshall Islands': {'score': 5.125, 'rank': 169},
    'Palau': {'score': 5.626, 'rank': 170},
    'Nauru': {'score': 5.103, 'rank': 171},
    'Tuvalu': {'score': 5.224, 'rank': 172},
    'Barbados': {'score': 5.689, 'rank': 173},
    'Trinidad and Tobago': {'score': 5.975, 'rank': 174},
    'Bahamas': {'score': 5.990, 'rank': 175},
    'Saint Lucia': {'score': 5.614, 'rank': 176},
    'Grenada': {'score': 5.477, 'rank': 177},
    'Saint Vincent and the Grenadines': {'score': 5.342, 'rank': 178},
    'Antigua and Barbuda': {'score': 5.560, 'rank': 179},
    'Dominica': {'score': 5.269, 'rank': 180},
    'Saint Kitts and Nevis': {'score': 5.472, 'rank': 181},
    'Belize': {'score': 5.956, 'rank': 182},
    'Guyana': {'score': 5.211, 'rank': 183},
    'Suriname': {'score': 5.760, 'rank': 184},
    'Equatorial Guinea': {'score': 4.710, 'rank': 185},
    'Sao Tome and Principe': {'score': 4.906, 'rank': 186},
    'Cape Verde': {'score': 5.370, 'rank': 187},
    'Seychelles': {'score': 5.529, 'rank': 188},
    'Andorra': {'score': 6.701, 'rank': 189},
    'Monaco': {'score': 6.369, 'rank': 190},
    'Liechtenstein': {'score': 7.523, 'rank': 191},
    'San Marino': {'score': 6.139, 'rank': 192},
    'Vatican City': {'score': 7.350, 'rank': 193},
  };

  /// Mendapatkan happiness score berdasarkan nama negara
  static Map<String, dynamic> getHappinessScore(String countryName) {
    try {
      // Cari exact match dulu
      if (_happinessData.containsKey(countryName)) {
        return {
          'success': true,
          'score': _happinessData[countryName]!['score'],
          'rank': _happinessData[countryName]!['rank'],
        };
      }

      // Cari dengan case-insensitive
      final key = _happinessData.keys.firstWhere(
        (k) => k.toLowerCase() == countryName.toLowerCase(),
        orElse: () => '',
      );

      if (key.isNotEmpty) {
        return {
          'success': true,
          'score': _happinessData[key]!['score'],
          'rank': _happinessData[key]!['rank'],
        };
      }

      return {
        'success': false,
        'error': 'Data tidak tersedia untuk negara ini',
      };
    } catch (e) {
      return {
        'success': false,
        'error': e.toString(),
      };
    }
  }

  /// Mendapatkan semua data happiness (untuk sorting/filtering)
  static Map<String, Map<String, dynamic>> getAllHappinessData() {
    return _happinessData;
  }
}
